<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<div class="container">
	<h:form id="geraRepasseReportForm" prependId="false">
		<p:messages id="messages" />
		<p:panel header="#{wd['fieldset.data']}" toggleable="true"
			styleClass="clearfix" id="dadosPanel">

			<div class="row">
				<div class="col-md-3">
					<p:outputLabel value="#{lb['repasse.numeroProcesso']}"
						for="numeroProcesso" />
				</div>
				<div class="col-md-1" style="text-align: left;">
					<p:outputLabel id="numeroProcesso"
						value="#{repasseController.numeroProcessoLabel}" />
				</div>
				<div class="col-md-3">
					<p:outputLabel value="#{lb['repasse.dataEmissao']}"
						for="dataEmissao" />
				</div>
				<div class="col-md-4">
					<p:calendar id="dataEmissao"
						value="#{repasseController.repasse.dataEmissao}"
						pattern="dd/MM/yyyy" locale="pt" 
						navigator="true" effect="fadeIn" required="true"
						readonlyInput="true" showOn="false" />
				</div>
				<div class="col-md-3">
					<p:outputLabel value="#{lb['unidade']}" for="unidadeAC" />
				</div>
				<div class="col-md-10">
					<p:autoComplete id="unidadeAC" minQueryLength="3"
						value="#{repasseController.repasse.unidade}" required="true"
						completeMethod="#{unidadeController.autocompletar}" queryDelay="3"
						widgetVar="unidadeAC" var="var" itemLabel="#{var.nome}"
						itemValue="#{var}" process="@this" dropdown="true"
						converter="autocompleteConverter" forceSelection="true" requiredMessage="Campo Unidade Física: O item deve ser selecionado.">
						<f:attribute name="entityClass"
							value="br.com.sts.ddum.model.entities.Unidade" />
						<p:ajax event="itemSelect"
							listener="#{repasseController.carregarResponsavelAtivo()}"
							process="@this" update="@form" />
					</p:autoComplete>
				</div>
			</div>

			<div class="clear" />
			<fieldset>
				<legend>Dados Responsável</legend>
				<div class="row">
					<div class="col-md-2">
						<p:outputLabel value="#{lb['responsavel.matricula']}: "
							for="responsavelMatr" />
					</div>
					<div class="col-md-2" style="text-align: left;">
						<h:outputLabel id="responsavelMatr"
							value="#{repasseController.repasse.unidade.responsavel.matriculaFuncional}" />
					</div>
					<div class="col-md-3">
						<p:outputLabel value="#{lb['responsavel']}: "
							for="responsavelNome" />
					</div>
					<div class="col-md-13" style="text-align: left;">
						<h:outputLabel id="responsavelNome"
							value="#{repasseController.repasse.unidade.responsavel.nome}" />
					</div>
				</div>
				<div class="clear" />
				<div class="row">
					<div class="col-md-2">
						<p:outputLabel value="#{lb['responsavel.cpf']}: "
							for="responsavelCpf" />
					</div>
					<div class="col-md-3" style="text-align: left;">
						<h:outputLabel id="responsavelCpf"
							value="#{repasseController.repasse.unidade.responsavel.cpf}" />
					</div>
					<div class="col-md-1">
						<p:outputLabel value="#{lb['responsavel.rg']}: "
							for="responsavelRg" />
					</div>
					<div class="col-md-2" style="text-align: left;">
						<h:outputLabel id="responsavelRg"
							value="#{repasseController.repasse.unidade.responsavel.rg}" />
					</div>
					<div class="col-md-1">
						<p:outputLabel value="#{lb['responsavel.cargo']}: "
							for="responsavelCargo" />
					</div>
					<div class="col-md-5" style="text-align: left;">
						<h:outputLabel id="responsavelCargo"
							value="#{repasseController.repasse.unidade.responsavel.cargo}" />
					</div>
					<div class="col-md-3">
						<p:outputLabel value="#{lb['responsavel.dataInicial']}: "
							for="responsavelDtInicial" />
					</div>
					<div class="col-md-2" style="text-align: left;">
						<h:outputLabel id="responsavelDtInicial"
							value="#{repasseController.repasse.unidade.responsavel.dataInicial}">
							<f:convertDateTime locale="pt,BR" dateStyle="long"
								pattern="dd/MM/yyyy" />

						</h:outputLabel>
					</div>
					<div class="col-md-3">
						<p:outputLabel value="#{lb['responsavel.dataFinal']}: "
							for="responsavelDtFinal" />
					</div>
					<div class="col-md-2" style="text-align: left;">
						<h:outputLabel id="responsavelDtFinal"
							value="#{repasseController.repasse.unidade.responsavel.dataFinal}">
							<f:convertDateTime locale="pt,BR" dateStyle="long"
								pattern="dd/MM/yyyy" />

						</h:outputLabel>
					</div>
					</div>
						<div class="clear" />
				<div class="row">
					<div class="col-md-2">
						<p:outputLabel value="#{lb['responsavel.codigoBanco']}: "
							for="codigoBanco" />
					</div>
					<div class="col-md-2" style="text-align: left;">
						<h:outputLabel id="codigoBanco"
							value="#{repasseController.repasse.unidade.responsavel.codigoBanco}" />
					</div>
					<div class="col-md-3">
						<p:outputLabel value="#{lb['responsavel.numeroAgencia']}: "
							for="numeroAgencia" />
					</div>
					<div class="col-md-2" style="text-align: left;">
						<h:outputLabel id="numeroAgencia"
							value="#{repasseController.repasse.unidade.responsavel.numeroAgencia}" />
					</div>
					<div class="col-md-2">
						<p:outputLabel value="#{lb['responsavel.digitoAgencia']}: "
							for="digitoAgencia" />
					</div>
					<div class="col-md-1" style="text-align: left;">
						<h:outputLabel id="digitoAgencia"
							value="#{repasseController.repasse.unidade.responsavel.digitoAgencia}" />
					</div>
					<div class="col-md-2">
						<p:outputLabel value="#{lb['responsavel.numeroConta']}: "
							for="numeroConta" />
					</div>
					<div class="col-md-2" style="text-align: left;">
						<h:outputLabel id="numeroConta"
							value="#{repasseController.repasse.unidade.responsavel.numeroConta}" />
					</div>
					<div class="col-md-2">
						<p:outputLabel value="#{lb['responsavel.digitoConta']}: "
							for="digitoConta" />
					</div>
					<div class="col-md-1" style="text-align: left;">
						<h:outputLabel id="digitoConta"
							value="#{repasseController.repasse.unidade.responsavel.digitoConta}" />
					</div>
					<div class="col-md-3">
						<p:outputLabel value="#{lb['responsavel.tipoConta']}: "
							for="tipoConta" />
					</div>
					<div class="col-md-2" style="text-align: left;">
						<h:outputLabel id="tipoConta"
							value="#{repasseController.repasse.unidade.responsavel.tipoConta.toString()}" />
					</div>
				</div>
			</fieldset>
			<fieldset>
				<legend>Dados Dotação</legend>
				<div class="row">
					<div class="col-md-3">
						<p:outputLabel value="#{lb['unidadeContabil']} Física: "
							for="unidadeContabil" />
					</div>
					<div class="col-md-8" style="text-align: left">
						<h:outputLabel id="unidadeContabil"
							value="#{repasseController.repasse.unidade.unidadeContabil.codigo} - #{repasseController.repasse.unidade.unidadeContabil.nome}"
							style="font-weight:100" />
					</div>
					<div class="col-md-3">
						<p:outputLabel value="#{lb['atividadeContabil']}: "
							for="atividadeContabilAC" />
					</div>
					<div class="col-md-10" style="text-align: left !important">
						<h:outputLabel id="atividadeContabilAC"
							value="#{repasseController.repasse.unidade.unidadeContabil.atividade.codigo} - #{repasseController.repasse.unidade.unidadeContabil.atividade.descricao}"
							style="font-weight:100" />
					</div>
				</div>
				<div class="clear" />
				<div class="row">
					<div class="col-md-3">
						<p:outputLabel value="#{lb['contaContabil']}: "
							for="contaContabilAC" />
					</div>
					<div class="col-md-8" style="text-align: left">
						<h:outputLabel id="contaContabilAC"
							value="#{repasseController.repasse.unidade.unidadeContabil.atividade.contaContabil.codigo} - #{repasseController.repasse.unidade.unidadeContabil.atividade.contaContabil.descricao}"
							style="font-weight:100" />
					</div>
					<div class="col-md-3">
						<p:outputLabel value="#{lb['fonteRecurso']}: "
							for="fonteRecursoAC" />
					</div>
					<div class="col-md-10" style="text-align: left">
						<h:outputLabel id="fonteRecursoAC"
							value="#{repasseController.repasse.unidade.unidadeContabil.atividade.contaContabil.fonteRecurso.codigo} - #{repasseController.repasse.unidade.unidadeContabil.atividade.contaContabil.fonteRecurso.descricao}"
							style="font-weight:100" />
					</div>
				</div>
				<div class="row">
					<div class="col-md-3">
						<p:outputLabel value="Saldo Disponível: "
							for="saldoDispOL" />
					</div>
					<div class="col-md-8" style="text-align: left">
				<h:outputLabel value="#{repasseController.saldoDotacao}"
							style="font-weight:100" id="saldoDispOL">
							<f:convertNumber type="currency" currencyCode="BRL" />
						</h:outputLabel>
						</div>
						</div>
			</fieldset>

			<p:commandButton value="Gerar Empenho" update="@form"
				actionListener="#{repasseController.gerarRepasse}"
				styleClass="col-md-4 r6" icon="ui-icon-disk" id="gerarEmpenho" widgetVar="gerarEmpenho">
				<p:blockUI block="geraRepasseReportForm" trigger="gerarEmpenho">
					<h:outputLabel value="#{wd['blockui.loading.text']}" />
					<br />
					<h:graphicImage library="images" name="#{wd['blockui.loading.img']}" />
				</p:blockUI>
				</p:commandButton>
			<p:commandButton id="limparCommandButton"
				value="#{wd['button.clean']}" icon="ui-icon-arrowrefresh-1-w"
				actionListener="#{repasseController.init}" update="@form"
				process="@this" styleClass="col-md-4 r7">
			</p:commandButton>
		</p:panel>

		<fieldset id="mediaFieldSet">
			<p:media id="empenhoMedia" height="450" width="100%" player="pdf"
				binding="#{repasseController.empenhoMedia}">
			</p:media>
		</fieldset>
	</h:form>
</div>
</html>