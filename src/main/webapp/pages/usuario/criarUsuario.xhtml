<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<div class="container">
	<h:form id="criarUserForm">
		<p:messages id="messages" />
		<p:panel id="dataPanel" header="#{wd['fieldset.data']}"
			toggleable="false" styleClass="clearfix">
			<p:focus context="dataPanel" />
			<div class="row">
				<div class="col-md-2">
					<p:outputLabel value="Perfil" for="roleAC" />
				</div>

				<div class="col-md-6">
					<p:autoComplete id="roleAC" value="#{userController.role}"
						completeMethod="#{userController.autocompletarRole}"
						converter="autocompleteConverter" var="var"
						itemLabel="#{var.name}" itemValue="#{var}" dropdown="true"
						required="true" scrollHeight="250" requiredMessage="Campo Perfil: O item deve ser selecionado.">
						<p:ajax event="itemSelect" process="@this"
							listener="#{userController.enableField()}" update="@form" />
						<f:attribute name="entityClass"
							value="br.com.sts.ddum.model.springsecurity.entities.Role" />
					</p:autoComplete>
				</div>

				<div class="col-md-2">
					<p:outputLabel value="#{lb['userSystem.name']}" for="userName" />
				</div>
				<div class="col-md-14">
					<p:inputText id="userName" value="#{userController.user.name}"
						required="true"
						rendered="#{userController.enableAutocomplete eq true ? false : true}" />
					<p:autoComplete id="responsavelAC"
						value="#{userController.responsavel}" label="#{lb['responsavel']}"
						completeMethod="#{responsavelController.autocompletar}"
						converter="autocompleteConverter" var="var"
						itemLabel="#{var.nome}" itemValue="#{var}" dropdown="true"
						required="true" scrollHeight="250"
						rendered="#{userController.enableAutocomplete}" requiredMessage="Campo ResponsÃ¡vel: O item deve ser selecionado.">
						<p:ajax event="itemSelect" process="@this" />
						<f:attribute name="entityClass"
							value="br.com.sts.ddum.model.entities.Responsavel" />
					</p:autoComplete>
				</div>
				</div>
				<div class="clear" />
				<div class="row">
					<div class="col-md-2">
						<p:outputLabel value="#{lb['userSystem.username']}"
							for="userUserName" />
					</div>
					<div class="col-md-6">
						<p:inputText id="userUserName" value="#{userController.login}"
							required="true" />
					</div>
					<div class="col-md-2">
						<p:outputLabel value="#{lb['userSystem.password']}"
							for="userPassword" />
					</div>
					<div class="col-md-4">
						<p:password id="userPassword" value="#{userController.senha}"
							required="true" validatorMessage="O Campo Senha deve possui pelo menos 5 caracteres!">
							 <f:validateLongRange minimum="5" />
							</p:password>
					</div>
					<div class="col-md-2">
						<p:outputLabel value="#{lb['userSystem.email']}" for="userEmail" />
					</div>
					<div class="col-md-8">
						<p:inputText id="userEmail" value="#{userController.user.email}"
							required="true" />
					</div>
				</div>
		<p:commandButton value="#{wd['button.create']}" update="@form"
			action="#{userController.save}" styleClass="col-md-4 r6"
			process="@form" icon="ui-icon-disk" />
<!-- 			 :usuarioTabView:criarUserForm:roleAC :usuarioTabView:criarUserForm:userName :usuarioTabView:criarUserForm:userUserName :usuarioTabView:criarUserForm:userPassword :usuarioTabView:criarUserForm:userEmail -->
		<p:commandButton id="limparCommandButton"
			value="#{wd['button.clean']}" icon="ui-icon-arrowrefresh-1-w"
			actionListener="#{userController.init}" update="@form"
			process="@this" styleClass="col-md-4 r7">
		</p:commandButton>
		</p:panel>
	</h:form>
</div>
<script type="text/javascript">
	$("#userUserName").val="";
</script>
</html>